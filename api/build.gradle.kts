plugins {
    id("sr.base-logic")
    id("net.kyori.indra.publishing")
}

val repoName = if (version.toString().endsWith("SNAPSHOT")) "maven-snapshots" else "maven-releases"
publishing {
    repositories {
        maven("https://repo.codemc.org/repository/${repoName}/") {
            credentials.username = System.getenv("CODEMC_USERNAME")
            credentials.password = System.getenv("CODEMC_PASSWORD")
            name = "codemc"
        }
    }
}

dependencies {
    compileOnly("com.google.code.gson:gson:2.11.0")
}
